import{u as g,m as h,y as j,r as e,T as v,j as s,H as T,O as N,B as P}from"./index-DEzWTRxo.js";import{u as S}from"./useManageAppStore-DDMdCKFq.js";import{B,a as k,A as w,b as O}from"./index-BE1Slz6D.js";import"./clsx-B-dksMZM.js";function E(){const n=g(),{appname:c}=h(),{getApp:l}=S(),{fetchData:m}=j("POST","APPACTIVITY"),[d,x]=e.useState([]),[A,p]=e.useState([]),[f,a]=e.useState("idle"),o=l(c);e.useEffect(()=>{(async()=>{a("loading");const y=[...v].map(t=>m(void 0,{appName:o.name,days:t.days})),r=await Promise.all(y),i=r.map(t=>(t==null?void 0:t.data.logs)??[]);p(i[i.length-1]),x(i),a(r?"success":"error")})()},[]);const u=()=>{n(`/account/myapps/${c}`)};return f==="loading"?s.jsx(T,{size:50,color:"white",className:"m-auto"}):s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"p-4",children:s.jsx(N,{btnText:"Go back",onClick:u,icon:s.jsx(P,{size:24})})}),s.jsxs("h1",{className:"ml-4 mt-2 mb-4 text-lg text-sky-300 font-medium",children:["User Activity-Based App Traffic Reports for",s.jsxs("span",{className:`\r
        text-sky-600 font-semibold`,children:["Â ",o.name]})]}),s.jsxs("div",{className:"flex flex-col gap-y-2 px-6 py-4",children:[s.jsxs("p",{className:"flex gap-x-2",children:[s.jsx(B,{size:20})," User Count"]}),s.jsxs("p",{className:"flex gap-x-2",children:[s.jsx(k,{size:20})," Date of Recorded Activity"]})]}),s.jsx(w,{appActivity:A}),s.jsx(O,{appActivity:d,setSelectedAppActivity:p})]})}export{E as default};
