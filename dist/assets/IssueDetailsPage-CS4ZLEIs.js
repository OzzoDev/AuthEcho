import{a7 as g,u as b,a8 as R,m as S,a4 as r,Y as A,r as D,j as s,H as y,O as E,B as N,S as k,i as w,a9 as O,X as T}from"./index-ClTJULeC.js";import{D as n}from"./DataLabel-CO4n98h_.js";import{F as B}from"./index-ntao_pUx.js";function z(t){return g({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 0 0-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 0 1 655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 0 1 279 755.2a342.16 342.16 0 0 1-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 0 1 109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"},child:[]}]})(t)}function L(){const t=b(),u=R(),{issueid:l}=S(),{callApi:x}=r("POST","RESOLVEISSUE"),{callApi:m}=r("POST","DELETEISSUE"),{status:p,updateUnResolvedIssue:j,getIssue:v}=A(),[e,h]=D.useState(v(l||"")),i=!u.pathname.includes("resolvedissues"),o=async()=>{const a=await x(!0,{issueID:l}),c=a==null?void 0:a.data.issue,d=a==null?void 0:a.data.issues;c&&h(c),d&&j(d.filter(I=>!I.isResolved).length)},f=async()=>{await m(!0,{issueID:l})&&t(`/admin/reportedissues${i?"":"/resolvedissues"}`)};return p==="loading"?s.jsx(y,{size:50,color:"white",className:"m-auto"}):e?s.jsxs("div",{className:"flex flex-col p-4",children:[s.jsx(E,{btnText:"Go back",onClick:()=>t(`/admin/reportedissues${i?"":"/resolvedissues"}`),icon:s.jsx(N,{size:24})}),s.jsxs("div",{className:"flex justify-between w-full my-12",children:[s.jsxs("div",{className:"flex flex-col gap-y-2",children:[s.jsx(n,{label:"Issue",data:e.issue}),s.jsx(n,{label:"From",data:e.user}),s.jsx(n,{label:"When",data:e.sentAt}),s.jsx("p",{className:`text-${e.isResolved?"green":"red"}-400`,children:e.isResolved?"Resolved":"Unresolved"}),s.jsx("div",{className:"mt-8",children:s.jsx("p",{children:e.text})})]}),s.jsxs("div",{className:"flex flex-col items-end gap-y-4",children:[s.jsx(s.Fragment,{children:e.isResolved?s.jsx(k,{btnText:"Mark as unresolved",onClick:o,icon:s.jsx(z,{size:20})}):s.jsx(w,{btnText:"Mark as resolved",onClick:o,icon:s.jsx(O,{size:20})})}),e.isResolved&&s.jsx(T,{btnText:"Delete",onClick:f,icon:s.jsx(B,{size:20})})]})]})]}):s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"Issue not found"})}export{L as default};
