import{a as C,r,m as b,n as m,j as e,H as N,o as y,s as S}from"./index-CeEBSq9K.js";import{A as v,a as w}from"./AppFilters-DFdt2ChC.js";import{P as E}from"./Paginator-Fd4t4F9S.js";import{u as O}from"./useManageAppStore-BAQjJdB4.js";import"./AppCardData-_GUx42YH.js";import"./clsx-B-dksMZM.js";function L(){const{updateApps:u}=O(),{status:x,accountOverview:d}=C(),[n,o]=r.useState([]),{appname:f}=b(),[i,p]=r.useState({current:1,latest:1,pageCount:1});r.useEffect(()=>{const s=d.adminApps;if(s){const t=s.map(a=>({...a,isVisible:!0})).sort((a,P)=>P.users-a.users);o(t),u(t),p(a=>({...a,pageCount:m(t,4)}))}},[]),r.useEffect(()=>{p(s=>({...s,pageCount:m(n,4)}))},[n]);const g=(s,t)=>{p(a=>({...a,current:t,latest:t}))},h=s=>{p(s?t=>({...t,current:1}):t=>({...t,current:t.latest}))};if(x==="loading")return e.jsx(N,{size:50,color:"white",className:"m-auto"});if(f)return e.jsx(y,{});const c=n.filter(s=>s.isVisible).filter((s,t)=>S(t,i.current,4)),A=n.length===0,l=c.length===0,j=n.length>4;return A?e.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"You do not have administrative access to any applications"}):e.jsxs("div",{className:"flex flex-col w-full",children:[e.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:l?"No matching apps":"Administered apps"}),e.jsx(v,{apps:n,setApps:o,onSearch:h}),!l&&e.jsxs(e.Fragment,{children:[j&&e.jsx("div",{className:"flex justify-center py-6",children:e.jsx(E,{onChange:g,count:i.pageCount})}),e.jsx("ul",{className:"flex flex-col gap-y-[60px] mb-[100px]",children:c.map(s=>e.jsx("li",{children:e.jsx(w,{app:s,detailsPath:"administeredapps"})},s.name))})]})]})}export{L as default};
