import{Y as h,r as c,n as m,j as s,H as j,s as N,_ as C,a6 as I}from"./index-DEzWTRxo.js";import{S as P}from"./SearchBarFlat-BDv09xq6.js";import{P as b}from"./Paginator-Dmv7KVP7.js";import{I as v}from"./IssueCard-DeRt1arw.js";import"./clsx-B-dksMZM.js";import"./DataLabel-CaSQXgp2.js";const r=10;function R(){const{status:p,overview:u}=h(),[n,l]=c.useState([]),[x,o]=c.useState({current:1,latest:1,pageCount:1});c.useEffect(()=>{const e=u.issues;if(e){const a=e.filter(t=>!t.isResolved);l(a),o(t=>({...t,pageCount:m(a,r)}))}},[u,l]);const d=e=>{const a=n.map(t=>({...t,isVisible:t.issue.toLowerCase().includes(e.toLowerCase())}));l(a),o(t=>({...t,current:e?1:t.latest,pageCount:m(a,r)}))},f=(e,a)=>{o(t=>({...t,current:a,latest:a}))};if(p==="loading")return s.jsx(j,{size:50,color:"white",className:"m-auto"});if(n.length===0)return s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"No unresolved issues"});const i=[...n].filter(e=>e.isVisible).filter((e,a)=>N(a,x.current,r)),g=n.length>r&&i.length>0;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex gap-x-2 items-center p-4",children:[s.jsx(C,{size:24}),s.jsxs("p",{className:"text-gray-400",children:["Unresolved issuesÂ ",s.jsx("span",{className:"text-cyan-300 font-semibold",children:I(n.length)})]})]}),s.jsxs("div",{className:"flex flex-col gap-y-6 p-4",children:[s.jsx(P,{onChange:d}),g&&s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(b,{onChange:f,count:x.pageCount})})]}),i.length===0?s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"No matching issue"}):s.jsx("ul",{className:"flex flex-col gap-y-16 p-6 my-12",children:i.map(e=>s.jsx("li",{children:s.jsx(v,{issueData:e})},e._id))})]})}export{R as default};
