import{Y as h,r as c,n as m,j as s,H as j,s as N,_ as C,a6 as v}from"./index-BrTf-wJD.js";import{S as I}from"./SearchBarFlat-DZsCl2Wp.js";import{P}from"./Paginator-CiOTWxgS.js";import{I as b}from"./IssueCard-DpQKdOWD.js";import"./clsx-B-dksMZM.js";import"./DataLabel-CAM4N43F.js";const l=10;function R(){const{status:p,overview:u}=h(),[n,r]=c.useState([]),[x,o]=c.useState({current:1,latest:1,pageCount:1});c.useEffect(()=>{const e=u.issues;if(e){const a=e.filter(t=>t.isResolved);r(a),o(t=>({...t,pageCount:m(a,l)}))}},[u,r]);const d=e=>{const a=n.map(t=>({...t,isVisible:t.issue.toLowerCase().includes(e.toLowerCase())}));r(a),o(t=>({...t,current:e?1:t.latest,pageCount:m(a,l)}))},f=(e,a)=>{o(t=>({...t,current:a,latest:a}))};if(p==="loading")return s.jsx(j,{size:50,color:"white",className:"m-auto"});if(n.length===0)return s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"No issues resolved"});const i=[...n].filter(e=>e.isVisible).filter((e,a)=>N(a,x.current,l)),g=n.length>l&&i.length>0;return s.jsxs("div",{className:"w-full",children:[s.jsxs("div",{className:"flex gap-x-2 items-center p-4",children:[s.jsx(C,{size:24}),s.jsxs("p",{className:"text-gray-400",children:["Resolved issuesÂ ",s.jsx("span",{className:"text-cyan-300 font-semibold",children:v(n.length)})]})]}),s.jsxs("div",{className:"flex flex-col gap-y-6 p-4",children:[s.jsx(I,{onChange:d}),g&&s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(P,{onChange:f,count:x.pageCount})})]}),i.length===0?s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"No matching issue"}):s.jsx("ul",{className:"flex flex-col gap-y-16 p-6 my-12",children:i.map(e=>s.jsx("li",{children:s.jsx(b,{issueData:e})},e._id))})]})}export{R as default};
