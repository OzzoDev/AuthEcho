import{a as P,r,m as y,n as u,j as s,H as b,o as N,s as S}from"./index-ClTJULeC.js";import{A as w,a as E}from"./AppFilters-BObFnnK8.js";import{u as O}from"./useManageAppStore-DL0wAT7w.js";import{P as v}from"./Paginator-DzFIPTBV.js";import"./AppCardData-BoiW4lOR.js";import"./clsx-B-dksMZM.js";function L(){const{updateApps:x}=O(),{status:m,accountOverview:d}=P(),[n,o]=r.useState([]),{appname:f}=y(),[c,p]=r.useState({current:1,latest:1,pageCount:1});r.useEffect(()=>{const e=d.createdApps;if(e){const t=e.map(a=>({...a,isVisible:!0})).sort((a,C)=>C.users-a.users);o(t),x(t),p(a=>({...a,pageCount:u(t,4)}))}},[]),r.useEffect(()=>{p(e=>({...e,pageCount:u(n,4)}))},[n]);const g=(e,t)=>{p(a=>({...a,current:t,latest:t}))},h=e=>{p(e?t=>({...t,current:1}):t=>({...t,current:t.latest}))};if(m==="loading")return s.jsx(b,{size:50,color:"white",className:"m-auto"});if(f)return s.jsx(N,{});const i=n.filter(e=>e.isVisible).filter((e,t)=>S(t,c.current,4)),A=n.length===0,l=i.length===0,j=n.length>4;return A?s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"You have not connected any apps yet"}):s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:l?"No matching apps":"My apps"}),s.jsx(w,{apps:n,setApps:o,onSearch:h}),!l&&s.jsxs(s.Fragment,{children:[j&&s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(v,{onChange:g,count:c.pageCount})}),s.jsx("ul",{className:"flex flex-col gap-y-[60px] mb-[100px]",children:i.map(e=>s.jsx("li",{children:s.jsx(E,{app:e,detailsPath:"myapps"})},e.name))})]})]})}export{L as default};
