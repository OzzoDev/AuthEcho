import{u as h,g as f,p,A as d,j as s,q as g,t as w,S as j,v as b,w as y,x as v,D as N}from"./index-ClTJULeC.js";import{A as c}from"./AppCardData-BoiW4lOR.js";function S({app:a,detailsPath:l,isManageable:i=!0}){const n=h(),{username:x}=f(),m=a.creator===x?"You":a.creator,u=p(a.admins.map(e=>e===x?"You":e)),o=()=>{i&&n(`/account/${l}/${y(a.name.toLowerCase())}`)},r=d[a.status];return s.jsxs("div",{className:"flex flex-col-reverse lg:flex-row justify-between gap-x-10 py-4 px-8",children:[s.jsxs("div",{className:"flex flex-col gap-y-8",children:[s.jsxs("div",{className:"flex flex-col gap-y-2 w-full",children:[s.jsx(c,{desciption:"Name",data:a.name}),s.jsx(c,{desciption:"Origin",data:a.origin,isLink:!0}),s.jsx(c,{desciption:"Creator",data:m}),s.jsx(c,{desciption:"Admins",data:u}),s.jsx(c,{desciption:"Description",data:a.description}),a.isFrozen&&s.jsx("p",{className:"text-red-500",children:"App is frozen"})]}),s.jsx("ul",{className:"flex flex-col gap-y-2 w-full",children:a.resources.map(e=>s.jsxs("li",{className:"flex flex-col md:flex-row gap-x-6",children:[s.jsxs("p",{className:"text-sky-300 whitespace-nowrap",title:e.visibility==="public"?"This resource is publicly accessible.":"This resource is restricted to application administrators and the creator.",children:[e.visibility==="public"?"ðŸ”“":"ðŸ”’"," ",e.name]}),s.jsx("a",{href:e.resource,className:"text-sky-200 transition-all duration-300 hover:text-sky-500 underline break-all",children:e.resource})]},e.id))})]}),s.jsxs("div",{className:"flex flex-col-reverse md:flex-row lg:flex-col justify-between items-center gap-y-4 md:gap-y-0 mb-8 lg:mb-0 w-full lg:w-auto",children:[s.jsxs("div",{className:"flex flex-col items-center md:items-start lg:items-end gap-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{style:{backgroundColor:r.color},className:"absolute top-[-5px] right-[-10px] w-[8px] h-[8px] rounded-full"}),s.jsx(c,{desciption:"Status",data:`${r.icon} ${g(a.status)}`,noWrap:!0})]}),s.jsxs("span",{className:"flex gap-x-2",children:[a.users,s.jsx(w,{size:26})]})]}),i&&s.jsx(j,{btnText:"Manage app",onClick:o,icon:s.jsx(b,{size:24})})]})]})}function A({placeholder:a="Search",autofocus:l,onChange:i}){return s.jsxs("div",{className:"flex items-center gap-x-2 p-2 border-[1px] border-white rounded-full",children:[s.jsx(v,{size:20}),s.jsx("input",{placeholder:a,autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoFocus:l,onChange:n=>i(n.target.value.trim().toLowerCase()),className:"w-full border-0 outline-none bg-transparent"})]})}function C({apps:a,setApps:l,onSearch:i}){const{username:n}=f(),x=o=>{const r=[...a].map(e=>({...e,isVisible:e.name.toLowerCase().includes(o)}));l(r),i(o)},m=o=>{let r=a;switch(o){case"Many - Few Users":r=[...a].sort((e,t)=>t.users-e.users);break;case"Few-Many Users":r=[...a].sort((e,t)=>e.users-t.users);break;case"Production - Development":r=[...a].sort((e,t)=>d[t.status].sortValue-d[e.status].sortValue);break;case"Development - Production":r=[...a].sort((e,t)=>d[e.status].sortValue-d[t.status].sortValue);break;case"Many - Few Admins":r=[...a.map(e=>({...e,admins:e.admins.filter(t=>t!==n)}))].sort((e,t)=>t.admins.length-e.admins.length);break;case"Few - Many Admins":r=[...a.map(e=>({...e,admins:e.admins.filter(t=>t!==n)}))].sort((e,t)=>e.admins.length-t.admins.length);break;case"Many - Few Resources":r=[...a].sort((e,t)=>t.resources.length-e.resources.length);break;case"Few - Many Resources":r=[...a].sort((e,t)=>e.resources.length-t.resources.length);break}l(r)},u=["Many - Few Users","Few-Many Users","Production - Development","Development - Production","Many - Few Admins","Few - Many Admins","Many - Few Resources","Few - Many Resources"];return s.jsx("div",{className:"flex flex-col gap-y-4 p-2 mb-4 pb-10 border-b-[1px] bg-black bg-opacity-20",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-x-10 gap-y-6",children:[s.jsx("div",{className:"w-[90%] max-w-[400px]",children:s.jsx(A,{onChange:x,autofocus:!0})}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 w-[90%] max-w-[500px]",children:[s.jsx("p",{className:"whitespace-nowrap px-2",children:"Sort apps"}),s.jsx(N,{items:u,initialValue:u[0],onSelect:m})]})]})})}export{C as A,S as a};
