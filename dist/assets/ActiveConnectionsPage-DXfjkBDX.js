import{a as A,r as c,n as u,j as s,H as C,s as P}from"./index-CeEBSq9K.js";import{A as b,a as y}from"./AppFilters-DFdt2ChC.js";import{P as v}from"./Paginator-Fd4t4F9S.js";import"./AppCardData-_GUx42YH.js";import"./clsx-B-dksMZM.js";function F(){const{status:x,accountOverview:m}=A(!0),[n,i]=c.useState([]),[r,o]=c.useState({current:1,latest:1,pageCount:1});c.useEffect(()=>{const e=m.appConnections;if(e){const t=e.map(a=>({...a,isVisible:!0})).sort((a,j)=>j.users-a.users);i(t),o(a=>({...a,pageCount:u(t,4)}))}},[]),c.useEffect(()=>{o(e=>({...e,pageCount:u(n,4)}))},[n]);const f=(e,t)=>{o(a=>({...a,current:t,latest:t}))},h=e=>{o(e?t=>({...t,current:1}):t=>({...t,current:t.latest}))};if(x==="loading")return s.jsx(C,{size:50,color:"white",className:"m-auto"});const p=n.filter(e=>e.isVisible).filter((e,t)=>P(t,r.current,4)),d=n.length===0,l=p.length===0,g=n.length>4;return d?s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:"You have not yet accessed any applications with your Authecho account"}):s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 ml-[20px] pt-[30px] pb-[60px]",children:l?"No matching apps":"Active application connections"}),s.jsx(b,{apps:n,setApps:i,onSearch:h}),!l&&s.jsxs(s.Fragment,{children:[g&&s.jsx("div",{className:"flex justify-center py-6",children:s.jsx(v,{onChange:f,count:r.pageCount})}),s.jsx("ul",{className:"flex flex-col gap-y-[60px] mb-[100px]",children:p.map(e=>s.jsx("li",{children:s.jsx(y,{app:e,detailsPath:"administeredapps",isManageable:!1})},e.name))})]})]})}export{F as default};
